function filterFunction(){var a,e;for(a=document.getElementById("searchField").value.toLowerCase(),e=document.getElementsByTagName("section"),i=0;i<e.length;i++)getName=e[i].getElementsByClassName("user-name")[0],nameVal=getName.value||getName.innerText,-1<nameVal.toLowerCase().indexOf(a)?e[i].style.display="":e[i].style.display="none",0==$(e).is(":visible")?$("#noData").css("display","flex"):$("#noData").css("display","none")}$(window).on("load",function(){$(".logo").hover(function(){$(".catalyst").animate({width:"toggle"})}),$(document).on("mouseover",".user-name",function(){return $(this).next("span").children("i").css("display","inline-block").animate({"margin-left":"0px"},200),$(this).next("span").children("i").fadeIn("fast"),!1}),$(document).on("mouseleave",".user-name",function(){return $(this).next("span").children("i").css("display","inline-block").animate({"margin-left":"20px"},200),$(this).next("span").children("i").fadeOut("fast"),!1}),$(document).on("click",function(a){if("add-user"==a.target.id&&($(".modal-container").fadeOut("fast"),$("#add-modal").fadeIn("fast"),$(".user-mod").fadeIn("fast"),$(".page-container").css("opacity","0.3")),"del-user"==a.target.id&&($(".modal-container").fadeOut("fast"),$("#del-modal").fadeIn("fast"),$(".user-mod").fadeIn("fast"),$(".page-container").css("opacity","0.3")),"block-user"==a.target.id&&($(".modal-container").fadeOut("fast"),$("#block-modal").fadeIn("fast"),$(".user-mod").fadeIn("fast"),$(".page-container").css("opacity","0.3")),"change-theme"==a.target.id&&($(".modal-container").fadeOut("fast"),$("#change-theme").fadeIn("fast"),$(".page-container").css("opacity","0.3")),"submit-theme"==a.target.id&&($("#dark").is(":checked")?($('link[href="src/css/dark-theme.css"]').prop("disabled",!1),$('link[href="src/css/light-theme.css"]').prop("disabled",!0)):($('link[href="src/css/dark.theme.css"]').prop("disabled",!0),$('link[href="src/css/light-theme.css"]').prop("disabled",!1)),$("#swMenu").is(":checked")?($(".arrow-icon").removeClass("arrow-spin-down").addClass("arrow-spin-left"),$("header").removeClass("slideDown")):($(".arrow-icon").removeClass("arrow-spin-right").addClass("arrow-spin-up"),$(".side-menu-wrapper").removeClass("slideIn")),$("#change-theme").fadeOut("fast"),$(".page-container").css("opacity","1")),"add-user"==a.target.id&&($("#add-button").is(":visible")&&$("#add-button").css("display","none"),$(this).on("input",function(){$("#add-modal input[type='text']").bind("keyup change",function(){""!=$("#add-name").val()&&""!=$("#add-title").val()?($("button").prop("disabled",!1),$("#add-button").fadeIn("fast")):($("button").prop("disabled",!0),$("#add-button").fadeOut("fast"))})})),"block-user"==a.target.id&&($("#del-block-button").is(":visible")&&$("#del-block-button").css("display","none"),$("#block-list").on("change",function(){"Select blocked user from list"!=$("#block-list option").filter(":selected").text()?$("#del-block-button").fadeIn("fast"):$("#del-block-button").fadeOut("fast")})),"del-user"==a.target.id&&($("#confirm-del").is(":visible")&&($("#confirm-del").css("display","none"),$("#del-button").css("display","none")),$("#del-list").on("change",function(){"Select user from list"!=$("#del-list option").filter(":selected").text()?$("#confirm-del").fadeIn("fast"):($("#confirm-del").fadeOut("fast"),$("#checkbox-state").prop("checked",!1),$("#del-button").fadeOut("fast"))})),"checkbox-state"==a.target.id&&(1==$("#checkbox-state").prop("checked")?$("#del-button").fadeIn("fast"):$("#del-button").fadeOut("fast")),"arrow-icon"==a.target.classList[0]&&($(".side-menu-wrapper").is(":visible")&&($("#del-modal").fadeOut("fast"),$("#add-modal").fadeOut("fast"),$("#block-modal").fadeOut("fast"),$("#edit-modal").fadeOut("fast"),$(".user-success").fadeOut("fast")),$("#swMenu").is(":checked")?$(".arrow-spin-left").is(":visible")?($(".side-menu-wrapper").css("display","flex"),setTimeout(function(){$(".side-menu-wrapper").removeClass("slideOut").addClass("slideIn")},100),$(".arrow-icon").removeClass("arrow-spin-left").addClass("arrow-spin-right"),$(".page-container").css("opacity","0.3")):($(".side-menu-wrapper").removeClass("slideIn").addClass("slideOut"),$(".arrow-icon").removeClass("arrow-spin-right").addClass("arrow-spin-left"),$(".page-container").css("opacity","1"),setTimeout(function(){$(".side-menu-wrapper").css("display","none")},200)):$("header").hasClass("slideDown")?($("header").removeClass("slideDown"),$(".arrow-icon").removeClass("arrow-spin-left"),$(".arrow-icon").removeClass("arrow-spin-down").addClass("arrow-spin-up")):($("header").addClass("slideDown"),$(".side-menu-wrapper").removeClass("slideIn").addClass("slideOut"),$(".arrow-icon").removeClass("arrow-spin-right"),$(".arrow-icon").removeClass("arrow-spin-up").addClass("arrow-spin-down"))),"sort"!=a.target.classList[0]&&!a.target.classList.contains("arrow-sort")||($(".arrow-sort").hasClass("arrow-spin-down")?($(".arrow-sort").removeClass("arrow-spin-down"),$(".arrow-sort").addClass("arrow-spin-up")):($(".arrow-sort").removeClass("arrow-spin-up"),$(".arrow-sort").addClass("arrow-spin-down"))),"close"==a.target.classList[0]&&($(".modal-container").fadeOut("fast"),$('input[type="radio').is(":radio")||$("input").val(""),$("select").val(""),$(".page-container").css("opacity","1")),"sort"==a.target.classList[0]||a.target.classList.contains("arrow-sort")){var t=document.getElementsByClassName("sort-list")[0].id;$(".sort-class").sort(function(a,e){return"sort-asc"==t?(document.getElementsByClassName("sort-list")[0].id="sort-des",String.prototype.localeCompare.call($(a).find("input.user-name").data("name").toLowerCase(),$(e).find("input.user-name").data("name").toLowerCase())):(document.getElementsByClassName("sort-list")[0].id="sort-asc",String.prototype.localeCompare.call($(e).find("input.user-name").data("name").toLowerCase(),$(a).find("input.user-name").data("name").toLowerCase()))}).appendTo(".content-wrapper")}}),$(document).keyup(function(a){"searchField"==a.target.id&&$("header").hasClass("slideDown")&&($("header").removeClass("slideDown"),$(".arrow-icon").removeClass("arrow-spin-down").addClass("arrow-spin-up")),$(".modal-container").is(":visible")&&"Escape"===a.key&&($(".modal-container").fadeOut("fast"),$('input[type="radio').is(":radio")||$("input").val(""),$("select").val(""),$(".page-container").css("opacity","1"))}),$(document).on("keypress",".user-name, .user-title",function(a){13==a.which&&(a.preventDefault(),$(this).blur())})}),$(window).on("load",function(){function a(){$(".modal-container").is(":visible")&&($("#del-modal").fadeOut("fast"),$("#add-modal").fadeOut("fast"),$("#block-modal").fadeOut("fast"),$("#edit-modal").fadeOut("fast"),$(".user-success").fadeOut("fast"),$(".page-container").css("opacity","1")),$("input").val(""),$("select").val(""),$("#swMenu").is(":checked")||$("input[type=checkbox]").prop("checked",!1);var t="";t+='<div class="user-nodata" style="height:100%;"><strong> loading data </strong></div>',$(".content-wrapper").html(t),$.ajax({url:"http://localhost:1352/users/",cache:!1,data:{},dataType:"jsonp",success:function(a){t="",$.each(a,function(a,e){"true"!==e.block&&(t+="<section id="+e.id+' class=\'sort-class\'><div class="user-wrapper"><div class="user-container"><div class="user-img-container"><div class="user-avatar '+e.avatar+'" data-name="'+e.avatar+'"></div ><div class="user-status '+e.status+'"></div></div ><div class="user-info"><div><input class="user-name" data-name="'+e.name+'" value="'+e.name+'"></input><span class="hideshow display-inline padding-left-10"><i class="fas fa-arrow-left"></i></span><input class="user-title" value="'+e.title+'"></input></div><button class="user-button transition">Block</button></div></div></div></section>')}),$(".content-wrapper").html(t),$(".sort-class").sort(function(a,e){return String.prototype.localeCompare.call($(a).find("input.user-name").data("name").toLowerCase(),$(e).find("input.user-name").data("name").toLowerCase())}).appendTo(".content-wrapper"),$(".content-wrapper").fadeIn("slow"),$("footer").fadeIn("slow")},error:function(){t="",t+='<div class="user-nodata" style="height:100%;"><strong> error loading external data </strong></div>',$(".content-wrapper").html(t),$(".content-wrapper").fadeIn("slow"),$("footer").fadeIn("slow")}})}function i(){var t="<option value=''>Select blocked user from list</option>";$.ajax({url:"http://localhost:1352/users/",cache:!1,data:{},dataType:"jsonp",success:function(a){$.each(a,function(a,e){"true"==e.block&&(t+="<option id='"+e.id+"' value='"+e.name+"'>"+e.name+"</option>"),$("#block-list").html(t)})}})}function e(){var t="<option value='' selected='false'>Select user from list</option>";$.ajax({url:"http://localhost:1352/users/",cache:!1,data:{},dataType:"jsonp",success:function(a){$.each(a,function(a,e){t+="<option id='"+e.id+"' value='"+e.name+"'>"+e.name+"</option>",$("#del-list").html(t)})}})}function r(){$(".user-mod").css("display","none"),$(".user-success").fadeIn("fast"),setTimeout(function(){$(".content-wrapper").css("display","none"),$("footer").css("display","none"),a(),e(),i()},2e3)}function s(a,s){var n="http://localhost:1352/users/";if(null!=a){var o=$("#edit-avatar option:selected").val();$.ajax({url:n,cache:!1,dataType:"json",success:function(a){$.each(a,function(a,e){if(s!=e.id);else{var t={id:e.id,name:e.name,title:e.title,avatar:o,status:e.status,block:e.block};$.ajax({url:n+s,type:"PUT",data:JSON.stringify(t),dataType:"json",contentType:"application/json",success:function(a){$("#add-modal").fadeIn("fast"),$(".page-container").css("opacity","0.3"),r()}})}})}})}else{var e={name:$("#add-name").val(),title:$("#add-title").val(),avatar:$("#add-avatar option:selected").val(),status:"offline",block:"false"};$.ajax({url:n,type:"POST",data:JSON.stringify(e),dataType:"json",contentType:"application/json",success:function(){r()}})}}$("#searchField").val(""),a(),i(),e(),$(document).on("click",function(a){var s="http://localhost:1352/users/";if("del-button"==a.target.id){var n=$("#del-list").children(":selected").attr("id");$.ajax({url:s,cache:!1,dataType:"json",success:function(a){$.each(a,function(a,e){if(n!=e.id);else{var t=delete e.id;$.ajax({url:s+n,type:"DELETE",dataType:"json",data:t,contentType:"application/json",success:function(){r()}})}})}})}if("del-block-button"==a.target.id){n=$("#block-list").children(":selected").attr("id");$.ajax({url:s,cache:!1,dataType:"json",success:function(a){$.each(a,function(a,e){if(n!=e.id);else{var t={id:e.id,name:e.name,title:e.title,avatar:e.avatar,status:e.status,block:"false"};$.ajax({url:s+n,type:"PUT",data:JSON.stringify(t),dataType:"json",contentType:"application/json",success:function(){r()}})}})}})}if($(a.target).hasClass("user-button")){$(a.target).closest("section").fadeOut("slow");var o=$(a.target).closest("section").attr("id");$.ajax({url:s,cache:!1,dataType:"json",success:function(a){$.each(a,function(a,e){if(o!=e.id);else{var t={id:e.id,name:e.name,title:e.title,avatar:e.avatar,status:e.status,block:"true"};$.ajax({url:s+o,type:"PUT",data:JSON.stringify(t),dataType:"json",contentType:"application/json",success:function(){i()}})}})}})}}),$(document).on("blur",".user-name, .user-title",function(){var a=$(this).attr("class"),e=$(this).val(),t=$(this).closest("section").attr("id");$(this).each(function(){var a=$(this).val().length;a*=2,$(this).css("width",6*a)}),function(a,s,n){var o="http://localhost:1352/users/";"user-name"==a?$.ajax({url:o,cache:!1,dataType:"json",success:function(a){$.each(a,function(a,e){if(s==e.name||n!=e.id);else{var t={id:e.id,name:s,title:e.title,avatar:e.avatar,status:e.status,block:e.block};$.ajax({url:o+n,type:"PUT",data:JSON.stringify(t),dataType:"json",contentType:"application/json",success:function(a){$("#edit-modal").fadeIn("fast"),$(".page-container").css("opacity","0.3"),r()}})}})}}):$.ajax({url:o,cache:!1,dataType:"json",success:function(a){$.each(a,function(a,e){if(s==e.title||n!=e.id);else{var t={id:e.id,name:e.name,title:s,avatar:e.avatar,status:e.status,block:e.block};$.ajax({url:o+n,type:"PUT",data:JSON.stringify(t),dataType:"json",contentType:"application/json",success:function(){$("#add-modal").fadeIn("fast"),$(".page-container").css("opacity","0.3"),r()}})}})}})}(a,e,t)}),$(document).on("click",function(a){if("add-button"==a.target.id&&s(null,null),$(a.target).hasClass("user-avatar")){var e=$(a.target).parent().next("div").find(".user-name").data("name"),t=$(a.target).parent().parent().parent().parent("section").attr("id");$("#edit-modal").fadeIn("fast"),$(".user-mod").fadeIn("fast"),$(".page-container").css("opacity","0.3"),$("#edit-avatar").on("change",function(){"Select Avatar"!=$("#edit-avatar option").filter(":selected").text()&&($("#edit-button").fadeIn("fast"),$("#edit-button").on("click",function(){s(e,t)}))})}})});